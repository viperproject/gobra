// Any copyright is dedicated to the Public Domain.
// http://creativecommons.org/publicdomain/zero/1.0/

package pkg

func main() {
	x@ := 0
	c := preserves acc(&x)
		 ensures x == old(x) + n && m == x
		 func f(n int) (m int) {
			x += n;
			return x
		 }

	// QUES: Not sure how to test that we cannot reveal closure calls; the following
	// doesn't parse
	r := reveal (c(10) as f)
	assert x == 10 && r == 10

}
