// Any copyright is dedicated to the Public Domain.
// http://creativecommons.org/publicdomain/zero/1.0/

package bad

// ##(-I ./)
import gen "generated"

//partial struct test (equality axiom)
//constructor not generated
func bad1(a, b gen.Pair2) {
  if a.Left == b.Left && a.Right == b.Right {
    assert a == b
  }
}

//partial struct test (equality axiom)
//constructor generated
func bad2(a, b gen.Pair) {
  if a.Left == b.Left && a.Right == b.Right {
    assert a == b
  }
}

//assignment declaration test
//assingment from constructor generated
requires acc(&a.Left) && acc(&a.Right)
func bad3(a *gen.Pair) {
  *a = gen.Pair{}
}

//dereference declaration test
//dereference from constructor generated
requires acc(&a.Left) && acc(&a.Right)
func bad4(a *gen.Pair) {
  x := *a
}

//shared struct comparison with dereference declaration test
//dereference from constructor generated
requires acc(&a.Left) && acc(&a.Right) && a.PrivateMem()
requires acc(&b.Left) && acc(&b.Right) && b.PrivateMem()
func bad5(a, b *gen.Pair) {
  assert *a == *b
}




