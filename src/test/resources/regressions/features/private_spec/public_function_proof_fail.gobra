// Any copyright is dedicated to the Public Domain.
// http://creativecommons.org/publicdomain/zero/1.0/

package pkg

type Pair struct {
  Left, Right, p int
}

//test for proof statement with struct
//:: ExpectedOutput(error:private_entailment_error)
requires acc(x) && x.Left == 2 
ensures  acc(x) && x.Left == 2
private {
  requires acc(x) && x.Left == 2 && x.p == 3
  ensures  acc(x) && x.Left == 2 && x.p == 3
  proof {
    Foo(x)
  }
}
func Foo(x *Pair) {
  x.Left = 2
  x.p = 3
} 

//ghostness of arguments
//:: ExpectedOutput(type_error)
requires acc(x) && x.Left == 2 
ensures  acc(x) && x.Left == 2
private {
  requires acc(x) && x.Left == 2
  ensures  acc(x) && x.Left == 2 && x.p == 3
  proof {
    a = Foo2(x)
  }
}
func Foo2(x *Pair) (ghost a int) {
  x.Left = 2
  x.p = 3
} 






